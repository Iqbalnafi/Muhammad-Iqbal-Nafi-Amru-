<!-- KONEKSI KE DATA SOURCE -->
<? php 
	$koneksi = mysqli_connect('localhost', 'root', '','db1') or die ('koneksi gagal');
?>

<!-- TES KE KONEKSI -->
<!DOCTYOPE html>
<html lang="id">
<? php 
	include("koneksi.php");
?> 
	<head> 
		<title>Tes Koneksi</title>
	</head>
	<body>
	
		<h4>Koneksi berhasil</h4>
	</body>
</html>

<!-- PENGAMBILAN DATA -->
<!DOCTYPE html>
<html>
<head>
	<title>Latihan php database</title>
</head>
<body>
	<h2>Menampilkan data mahasiswa</h2>
	<table border="1">
		<tr>
			<th>No</th>
			<th>NIM</th>
			<th>Nama</th>
			<th>Alamat</th>
		</tr>
		<?php
		include 'koneksi.php';
		$no = 1;
		$data = mysqli_query($koneksi,"select * from namamahasiswa");
		while($d = mysqli_fetch_array($data)){
			?>
			<tr>
				<td><?php echo $no++; ?></td>
				<td><?php echo $d['nim']; ?></td>
				<td><?php echo $d['nama']; ?></td>
				<td><?php echo $d['alamat']; ?></td>
			</tr>
			<?php
			
		}
		?>
	</table>
	<a href="db2.php">+ tambah data mahaiswa</a>
		
	</body>
</html>


<!-- AKSI -->
<? php 
	include 'koneksi.php'
	
	//menangkap data yang di kirim dari form
	$nim = $_POST['nim'];
	$nama = $_POST['nama'];
	$alamat = $_POST['alamat'];
	
	// menginput data ke database
	mysqli_query($koneksi "insert into mahasiswa values('$nim','$nama','$alamat')");
	
	// mengalihkan halaman kembali ke index.php 
	header("location:db.php");
?>

<!-- PENAMBAHAN DATA -->
<!DOCTYPE html>
<html>
<head>
	<title>Menampilkan Database Mahasiswa 2</title>
</head>
<body>
	<h2>Menambahkan Data</h2>
	<br/>
	<a href="db.php">< kembali</a>
	<h3>Tambah data mahasiswa</h3>
	<form method="post" action="aksi.php">
		<table>
			<tr>
				<td>NIM</td>
				<td><input type="number" name="nim"></td>
			</tr>
			
			<tr> 
				<td>Nama</td>
				<td><input type="text" name="nama"></td>
			</tr>
			
			<tr>
				<td>Alamat</td>
				<td><input type="text" name="alamat"></td>
			</tr>
			
			<tr>
				<td></td>
				<td><input type="submit" value="SIMPAN"></td>
			</tr>
		</table>
	</form>
</body>
</html>


<!-- TUGAS -->
<!DOCTYPE html>
<html>

<head>
	<title> Tugas Praktikum </title>
</head>

<body>
	<h2> Data Mahasiswa </h2>
	<br/>
	<a href = "db.php"> </a>
	<h3> Menambahkan Data Mahasiswa </h3>
	<form method="post" action="aksi.php">
		<table>
			<tr>
				<td> NIM </td>
				<td> <input type = "number" name="NIM"> </td>
			</tr>
			
			<tr>
				<td> Nama </td>
				<td> <input type = "text" name="Nama"> </td>
			</tr>
			
			<tr>
				<td> Alamat </td>
				<td> <input type = "text" name="Alamat"> </td>
			</tr>
			
			<tr>
				<td> </td>
				<td> <input type = "submit" value="SIMPAN"> </td>
			</tr>
		</table>
	</form>
	<br>
	
	<table border="1">
	<h3> Menampilkan Data Mahasiswa </h3>
		<tr>
			<th> No </th>
			<th> NIM </th>
			<th> Nama </th>
			<th> Alamat </th>
		</tr>
		
		<?php
		include 'koneksi.php';
		$no = 1;
		$data = mysqli_query($koneksi, "select * from namamahasiswa");
		while($d = mysqli_fetch_array ($data)) {
		?>
			<tr>
			<td> <?php echo $no++; ?> </td>
			<td> <?php echo $d['NIM']; ?> </td>
			<td> <?php echo $d['Nama']; ?> </td>
			<td> <?php echo $d['Alamat']; ?> </td>
			</tr>
			
			<?php
		}
		?>
	</table>
	
</body>

</html>
